OASISFormat: 0.4
Name: ocaml-z3
Version: 0.1
Synopsis: OCaml bindings for z3.
License: MIT
Authors: Gabriel Radanne

Plugins: META (0.3), DevFiles (0.3)


AlphaFeatures: compiled_setup_ml
BuildTools: ocamlbuild

Flag optim
  Description: Assume (or not) the availability of optiz3.
  Default: false

## Improvements ##

# A well-typed ast, with conversion functions #
Library Z3overlay
  Path: src
  InternalModules: ZZ3Utils
  Modules: ZZ3, ZZ3_sigs
  BuildDepends: Z3, zarith
  CompiledObject: best

Library Z3overlay_optim
  FindlibName: optim
  FindlibParent: Z3overlay
  Build$: flag(optim)
  Path: src/optim
  Modules: ZZ3Optim
  BuildDepends: Z3overlay
  CompiledObject: best

## Tests ##

Executable test_simple
  Path: test
  Build$: flag(tests)
  Install: false
  MainIs: simple.ml
  BuildDepends: Z3overlay
  CompiledObject: best

Test simple
  Command: $test_simple
  TestTools: test_simple
  Run$: flag(tests)

# Only for optim #
Executable test_optim
  Path: test
  Build$: flag(tests) && flag(optim)
  Install: false
  MainIs: optim.ml
  BuildDepends: Z3overlay.optim
  CompiledObject: best

Test optim
  Command: $test_optim
  TestTools: test_optim
  Run$: flag(tests) && flag(optim)


## Doc ##

Document api
  Title: API reference for Z3
  Type: ocamlbuild (0.3)
  Install: false
  InstallDir: $htmldir/api
  BuildTools: ocamldoc
  XOCamlbuildPath: .
  XOCamlbuildLibraries: Z3overlay, Z3overlay.optim
